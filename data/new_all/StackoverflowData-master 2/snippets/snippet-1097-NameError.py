#Source: https://stackoverflow.com/questions/49454529/django-forms-typeerror-init-got-an-unexpected-keyword-argument-instance
class Establishments(models.Model):
    title = models.CharField(max_length=255)
    town = models.ForeignKey(Town, on_delete=SET_NULL, null=True)
    addrstreet = models.CharField(max_length=255)
    addrzip = models.CharField(max_length=12)
    telephone = models.CharField(max_length=15)
    email = models.CharField(max_length=255)
    chamberofcomnr = models.CharField(max_length=25)
    description = models.TextField(max_length=255)
    website =  models.CharField(max_length=255)
    categorie = models.ForeignKey(Establishmentcategory, on_delete=SET_NULL, null=True)
    pub_date = models.DateTimeField('date published')
    drupuser = models.ForeignKey(Drupalusers, on_delete=SET_NULL, null=True)
    druppublished = models.BooleanField()
    drupurl = models.CharField(max_length=255)
    drupnodeid = models.IntegerField()
    def __str__(self):
        return self.title
class Impcalendar(models.Model):
    establishment = models.ForeignKey(Establishments, on_delete=SET_NULL, null=True)
    active = models.BooleanField()
    prio = models.IntegerField()
    url = models.CharField(max_length=255)
    check_intervalh = models.IntegerField()
    check_fixedh = models.IntegerField()
    log = models.BooleanField()
    cuttag = models.CharField(max_length=255)
    cuttxt =  models.CharField(max_length=255)
    cuttxtend = models.CharField(max_length=255)
    comment = models.CharField(max_length=255)
    page = models.TextField()
    pageold = models.TextField()    
    change = models.TextField()
    pagedate = models.DateTimeField()
    pagedatenext = models.DateTimeField()
    status = models.IntegerField()
    errors = models.IntegerField()
    def __str__(self):
        return str(self.id)